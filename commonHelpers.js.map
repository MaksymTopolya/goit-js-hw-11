{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["\nexport function getPhotos(query) {\n    startLoading()\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '43031538-631b2ceb9342d78106785df9b',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url)\n    .then(res => res.json())\n      .then(data => {\n          hideLoading()\n          return data; \n      })\n}\n\nconst loading = document.querySelector(\".loading\");\n\nfunction startLoading() {\n    loading.classList.remove(\"hide\"); \n}\n\nfunction hideLoading() {\n    loading.classList.add(\"hide\"); \n}\n","import { getPhotos } from './pixabay-api';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst myForm = document.querySelector(\".form\");\nconst list = document.querySelector(\".list\");\nconst loading = document.querySelector(\".loading\");\n\nmyForm.addEventListener(\"submit\", getImg);\n\nfunction getImg(event) {\n    \n    event.preventDefault();\n    const inputValue = event.target.elements.search.value;\n    \n    getPhotos(inputValue.toLowerCase())\n        .then(response => {\n            const photos = response.hits; \n            if (photos.length === 0) {\n               return  iziToast.error({\n                title: 'Hey',\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n                   theme: 'dark',\n                backgroundColor: 'red',\n                position: 'topCenter',\n                     color: 'black', \n            });\n            }\n            const markup = markupMyImg(photos);\n            list.innerHTML = markup;\n            initializeLightbox();\n        }).finally(() => {\n            event.target.reset();\n        });\n}\n\nfunction markupMyImages({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `\n        <li class=\"list-item\">\n            <a href=\"${largeImageURL}\" class=\"photo\" data-lightbox=\"photos\">\n                <img src=\"${webformatURL}\" class=\"photo\" data-img=\"${largeImageURL}\">\n            </a>\n            <div class=\"desc\">\n                <ul class=\"info\">\n                    <li class=\"mini-item\">\n                        <h3 class=\"mini-title\">Likes</h3>\n                        <p class=\"about-photo\">${likes}</p>\n                    </li>\n                    <li class=\"mini-item\">\n                        <h3 class=\"mini-title\">Views</h3>\n                        <p class=\"about-photo\">${views}</p>\n                    </li>\n                    <li class=\"mini-item\">\n                        <h3 class=\"mini-title\">Comments</h3>\n                        <p class=\"about-photo\">${comments}</p>\n                    </li>\n                    <li class=\"mini-item\">\n                        <h3 class=\"mini-title\">Downloads</h3>\n                        <p class=\"about-photo\">${downloads}</p>\n                    </li>\n                </ul>\n            </div>\n        </li>\n    `;\n}\n\nfunction markupMyImg(arr) {\n    return arr.map(markupMyImages).join('');\n}\n\nfunction initializeLightbox() {\n    const lightbox = new SimpleLightbox('.list-item a', {\n        captionsData: 'alt',\n        captionDelay: 250, \n    });\n}\n\n"],"names":["getPhotos","query","startLoading","BASE_URL","END_POINT","params","url","res","data","hideLoading","loading","myForm","list","getImg","event","inputValue","response","photos","iziToast","markup","markupMyImg","initializeLightbox","markupMyImages","webformatURL","largeImageURL","tags","likes","views","comments","downloads","arr","SimpleLightbox"],"mappings":"6vBACO,SAASA,EAAUC,EAAO,CAC7BC,EAAc,EAChB,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKK,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACpB,KAAKC,IACFC,EAAa,EACND,EACV,CACP,CAEA,MAAME,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASR,GAAe,CACpBQ,EAAQ,UAAU,OAAO,MAAM,CACnC,CAEA,SAASD,GAAc,CACnBC,EAAQ,UAAU,IAAI,MAAM,CAChC,CCtBA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EAEjDD,EAAO,iBAAiB,SAAUE,CAAM,EAExC,SAASA,EAAOC,EAAO,CAEnBA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,OAAO,MAEhDd,EAAUe,EAAW,aAAa,EAC7B,KAAKC,GAAY,CACd,MAAMC,EAASD,EAAS,KACxB,GAAIC,EAAO,SAAW,EACnB,OAAQC,EAAS,MAAM,CACtB,MAAO,MACP,QAAS,2EACN,MAAO,OACV,gBAAiB,MACjB,SAAU,YACL,MAAO,OAC5B,CAAa,EAED,MAAMC,EAASC,EAAYH,CAAM,EACjCL,EAAK,UAAYO,EACjBE,GACZ,CAAS,EAAE,QAAQ,IAAM,CACbP,EAAM,OAAO,OACzB,CAAS,CACT,CAEA,SAASQ,EAAe,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC5F,MAAO;AAAA;AAAA,uBAEYL,CAAa;AAAA,4BACRD,CAAY,6BAA6BC,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAMjCE,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAM1D,CAEA,SAAST,EAAYU,EAAK,CACtB,OAAOA,EAAI,IAAIR,CAAc,EAAE,KAAK,EAAE,CAC1C,CAEA,SAASD,GAAqB,CACT,IAAIU,EAAe,eAAgB,CAChD,aAAc,MACd,aAAc,GACtB,CAAK,CACL"}